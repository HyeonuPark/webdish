"use strict";!function(a){var b=/iPhone/i,c=/iPod/i,d=/iPad/i,e=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,f=/Android/i,g=/IEMobile/i,h=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,i=/BlackBerry/i,j=/BB10/i,k=/Opera Mini/i,l=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,m=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),n=function(a,b){return a.test(b)},o=function(a){var o=a||navigator.userAgent;return this.apple={phone:n(b,o),ipod:n(c,o),tablet:n(d,o),device:n(b,o)||n(c,o)||n(d,o)},this.android={phone:n(e,o),tablet:!n(e,o)&&n(f,o),device:n(e,o)||n(f,o)},this.windows={phone:n(g,o),tablet:n(h,o),device:n(g,o)||n(h,o)},this.other={blackberry:n(i,o),blackberry10:n(j,o),opera:n(k,o),firefox:n(l,o),device:n(i,o)||n(j,o)||n(k,o)||n(l,o)},this.seven_inch=n(m,o),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window?this:void 0},p=function(){var a=new o;return a.Class=o,a};"undefined"!=typeof module&&module.exports&&"undefined"==typeof window?module.exports=o:"undefined"!=typeof module&&module.exports&&"undefined"!=typeof window?module.exports=p():"function"==typeof define&&define.amd?define("isMobile",[],a.isMobile=p()):a.isMobile=p()}(this);var screen_size=localStorage.screen_size=localStorage.screen_size||(isMobile.phone?"mobile":"large");"/"===location.pathname&&"mobile"===screen_size?location.pathname="/m":"/m"===location.pathname&&"large"===screen_size&&(location.pathname="/"),function(a){a.wikimark=function(a){var b=[],c=[],d=[];console.log("start parsing wikimark");for(var e=/@@@([\S\s]*?)@@@/,f=e.exec(a);null!==f;f=e.exec(a)){var g=f[1];a=a.replace(e,"@<<<<"+b.length+">>>>@"),b.push(g)}console.log("saved code block");for(var h=/^(#+)(.*?)$/m,i=[],f=h.exec(a);null!==f;f=h.exec(a)){var j=f[1].length,g=f[2];i=i.slice(0,j),i[j-1]=i[j-1]?i[j-1]+1:1,c.push("<b>"+i.join(".")+"</b> "+g),a=a.replace(h,'<hr><h3 id="wikimark-title-'+i.join("-")+'"><strong>'+i.join(".")+" "+g+"</strong></h3>")}console.log("parsed titles");for(var k=/\(\((.*?)\)\)/m,f=k.exec(a);null!=f;f=k.exec(a)){var g=f[1];d.push(g),a=a.replace(k,'<a class="badge footnote-marker">'+d.length+"</a>")}console.log("parsed footnotes");for(var l=/\{\{(.*?)\}\}/m,f=l.exec(a);null!==f;f=l.exec(a)){var g=f[1];a=g.includes(".")?a.replace(l,'<a href="'+g+'">'+g+"</a>"):a.replace(l,'<a href="#/wiki/'+g+'">'+g+"</a>")}console.log("parsed links");for(var m=/\[\[(.*?)\]\]/m,f=m.exec(a);null!==f;f=m.exec(a)){var g=f[1];a=g.includes(".")?a.replace(l,'<img src="'+g+'">'):a.replace(l,'<img src="https://hyeonu.com/i/'+g+'">')}console.log("parsed images");for(var n=/@<<<<(\d+)>>>>@/,f=n.exec(a);null!==f;f=n.exec(a)){var g=Number(f[1]);a=a.replace(n,'<code class="code-highlight">'+b[g]+"</code>")}console.log("reloaded code blocks");var o='<div><ol class="no-order">';for(var f in c)o+="<li>"+c[f]+"</li>";o+="</ol><pre>"+a+'</pre><ol class="no-order">';for(var f in d)o+='<li><a class="badge footnote">'+(Number(f)+1)+"</a>"+d[f]+"</li>";return o+="</ol></div>"}}(this);